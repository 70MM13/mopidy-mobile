<ion-view view-title="{{name || ('Library' | translate)}}">
  <ion-content>
    <ion-refresher
       pulling-text="Pull to refresh library..."
       on-refresh="refresh()">
    </ion-refresher>

    <form ng-submit="search()">
      <label class="item item-input">
        <i class="icon ion-search placeholder-icon"></i>
        <input type="search" placeholder="{{'Search here...' | translate}}">
      </label>
    </form>

    <ion-list>
<!--
      <ion-item ng-repeat="ref in refs"
                ng-href="#/tabs/library/browse?name={{ref.name | encode}}&uri={{ref.uri | encode}}"
                ng-class="{'item-icon-right': ref.type != 'track'}"
                >
        {{ref.name}}
        <i ng-if="ref.type != 'track'" class="icon ion-chevron-right icon-accessory"></i>
      </ion-item>
-->
      <mopidy-item ng-repeat="ref in refs" ng-model="ref"
                   ng-class="{'item-icon-right': ref.type != 'track'}"
                   ng-href="{{ref.type != 'track' ? '#/tabs/library/browse?name=' + (ref.name | encode) + '&uri=' + (ref.uri | encode) : '#'}}"
                   ng-click="ref.type == 'track' ? play(ref) : null"
                   >
        {{ref.name}}
        <i ng-if="ref.type != 'track'" class="icon ion-chevron-right icon-accessory"></i>
      </ion-item>

    </ion-list>
  </ion-content>
</ion-view>
